<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Discover â€” Lunavell</title>

  <style>
    :root{
      /* Lunavell cold neutral palette */
      --c0:#ffffff;
      --c1:#f6f6f6;
      --c2:#e9e9e9;
      --c3:#dcdcdc;

      --ink:#0f0f10;
      --paper: var(--c0);

      /* overlay: subtle, not that "black kill" */
      --scrim: rgba(10, 10, 12, 0.14);
      --scrim-strong: rgba(10, 10, 12, 0.22);

      --maxw: 980px;
      --pad: clamp(18px, 3.5vw, 44px);
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: var(--paper);
      color: var(--ink);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Optional: if you already have a global header, you can delete this */
    header{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(255,255,255,0.86);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(15,15,16,0.06);
    }
    .nav{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 16px var(--pad);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 20px;
    }
    .brand{
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      letter-spacing: .12em;
      font-size: 16px;
      text-transform: uppercase;
      opacity: .9;
    }
    .menu{
      display:flex; gap: 22px;
      font-size: 12px;
      letter-spacing: .28em;
      text-transform: uppercase;
    }
    .menu a{
      text-decoration:none;
      color: rgba(15,15,16,0.70);
    }
    .menu a:hover{ color: rgba(15,15,16,0.95); }

    /* ===== Discover: scroll + cinematic fade ===== */

    /* This creates a 3-screen scroll runway */
    .scroll-runway{
      height: 300vh; /* 3 scenes */
      position: relative;
      background: var(--paper);
    }

    /* Sticky viewport */
    .sticky-stage{
      position: sticky;
      top: 0;
      height: 100vh;
      overflow: hidden;
      isolation: isolate;
    }

    /* Each scene is a full-bleed layer */
    .scene{
      position:absolute;
      inset:0;
      opacity: 0;
      transition: opacity 420ms linear; /* will be controlled by JS; this is a fallback */
      will-change: opacity, transform;
    }

    .scene::before{
      content:"";
      position:absolute;
      inset:0;
      background: var(--scrim);
      z-index: 1;
    }

    /* background image */
    .scene__bg{
      position:absolute;
      inset:0;
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
      /* ultra clean, no warm */
      filter: saturate(0.98) contrast(1.02);
      transform: scale(1.02);
    }

    /* central text */
    .scene__content{
      position: relative;
      z-index: 2;
      height: 100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: var(--pad);
      text-align:center;
    }

    .copy{
      width: min(var(--maxw), 92vw);
      color: rgba(255,255,255,0.96);
      text-shadow: 0 1px 18px rgba(0,0,0,0.10);
    }

    .headline{
      font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
      font-weight: 500;
      letter-spacing: -0.02em;
      line-height: 1.06;
      margin: 0 0 16px;
      font-size: clamp(34px, 5.2vw, 72px);
    }

    .sub{
      margin: 0 auto;
      max-width: 62ch;
      font-size: clamp(14px, 1.6vw, 18px);
      line-height: 1.7;
      letter-spacing: 0.02em;
      color: rgba(255,255,255,0.86);
    }

    /* Slightly longer paragraph on scene 3 */
    .sub.long{
      max-width: 72ch;
      font-size: clamp(14px, 1.7vw, 18px);
    }

    /* Optional: make scene 2 a touch cleaner (less scrim) */
    .scene[data-scene="2"]::before{ background: rgba(10,10,12,0.12); }

    /* Optional: scene 3 can be a hair stronger so text stays crisp */
    .scene[data-scene="3"]::before{ background: var(--scrim-strong); }

    /* Mobile: reduce header weight */
    @media (max-width: 520px){
      .menu{ gap: 14px; letter-spacing: .18em; }
      .brand{ letter-spacing: .10em; }
      .sub{ max-width: 38ch; }
      .sub.long{ max-width: 44ch; }
    }

    /* Accessibility: if user prefers reduced motion, show stacked sections instead */
    @media (prefers-reduced-motion: reduce){
      .scroll-runway{ height:auto; }
      .sticky-stage{ position: static; height:auto; }
      .scene{
        position: relative;
        opacity: 1 !important;
        min-height: 100vh;
        transition: none !important;
      }
      .scene__bg{ transform:none; }
    }
  </style>
</head>

<body>

  <!-- If you already have a site-wide header, remove this block -->
  <header>
    <div class="nav">
      <div class="brand">LUNAVELL</div>
      <nav class="menu" aria-label="Primary">
        <a href="index.html">Home</a>
        <a href="mission.html">Mission</a>
        <a href="shop.html">Shop</a>
        <a href="more.html">More</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="scroll-runway" id="discover-runway" aria-label="Discover Lunavell">
      <div class="sticky-stage" id="sticky-stage">

        <!-- Scene 1 -->
        <article class="scene" data-scene="1" aria-hidden="false">
          <div class="scene__bg" style="background-image:url('assets/discover-01-bath.jpg');"></div>
          <div class="scene__content">
            <div class="copy">
              <h1 class="headline">Inhale. Exhale. We take care of the rest.</h1>
              <p class="sub">
                London-based retail brand born from the desire to bring clarity back into an increasingly chaotic world.
              </p>
            </div>
          </div>
        </article>

        <!-- Scene 2 -->
        <article class="scene" data-scene="2" aria-hidden="true">
          <div class="scene__bg" style="background-image:url('assets/discover-02-objects.jpg');"></div>
          <div class="scene__content">
            <div class="copy">
              <h2 class="headline">Objects for stillness.</h2>
              <p class="sub">Calm, shaped into form.</p>
            </div>
          </div>
        </article>

        <!-- Scene 3 -->
        <article class="scene" data-scene="3" aria-hidden="true">
          <div class="scene__bg" style="background-image:url('assets/discover-03-water.jpg');"></div>
          <div class="scene__content">
            <div class="copy">
              <h2 class="headline">Everyday, turned into ritual.</h2>
              <p class="sub long">
                From the first drop of water to the final breath of steam, Lunavell exists to transform ordinary moments into calm, repeatable rituals that hold you together when the world feels loud.
              </p>
            </div>
          </div>
        </article>

      </div>
    </section>
  </main>

  <script>
    (function(){
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) return;

      const runway = document.getElementById('discover-runway');
      const stage  = document.getElementById('sticky-stage');
      const scenes = Array.from(stage.querySelectorAll('.scene'));

      function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }
      function smoothstep(t){ return t*t*(3 - 2*t); } // cinematic ease

      let ticking = false;

      function update(){
        ticking = false;

        const rect = runway.getBoundingClientRect();
        const vh = window.innerHeight || 1;

        // progress = 0..3 across runway
        const scrolled = clamp((vh - rect.top) / vh, 0, 3);
        // sceneIndex: 0,1,2 and local t 0..1
        const idx = clamp(Math.floor(scrolled), 0, 2);
        const tRaw = scrolled - idx;           // 0..1 inside the segment
        const t = smoothstep(clamp(tRaw, 0, 1));

        // crossfade between idx and idx+1
        scenes.forEach((s, i) => {
          let op = 0;

          if (i === idx) op = 1 - t;
          if (i === idx + 1) op = t;

          // keep first visible at very top, last visible at end
          if (scrolled <= 0.001 && i === 0) op = 1;
          if (scrolled >= 2.999 && i === 2) op = 1;

          s.style.opacity = op.toFixed(4);
          s.setAttribute('aria-hidden', op > 0.5 ? 'false' : 'true');
        });
      }

      function onScroll(){
        if (!ticking){
          ticking = true;
          requestAnimationFrame(update);
        }
      }

      window.addEventListener('scroll', onScroll, { passive:true });
      window.addEventListener('resize', onScroll, { passive:true });

      // init
      update();
    })();
  </script>

</body>
</html>
